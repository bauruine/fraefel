<ul class="breadcrumb">
  <li>
    <a href="/"><i class="icon-home"></i> Dashboard</a> <span class="divider">/</span>
  </li>
  <li class="active">
    <a href="/purchase_orders"><i class="icon-folder-open"></i> VK-Aufträge</a>
  </li>
</ul>

<div class="page-header">
  <h1>VK - Aufträge</h1>
</div>

<div class="row">
  <div class="span12">
    <div class="btn-toolbar fr">
      <div class="btn-group">
        <a class="btn" href="#filter" data-toggle="modal"><i class="icon-search"></i> Filter</a>
        <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
          <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
          <li><a href="#goto" data-toggle="modal"><i class="icon-screenshot"></i> Gehe zu</a></li>
          <li class="divider"></li>
          <li><a href="#"><i class="icon-trash"></i> Lösche</a></li>
          <!-- dropdown menu links -->
        </ul>
      </div>
    </div>
  </div>
</div>

<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th>VK#</th>
      <th>Positionen</th>
      <th>Paletten</th>
      <th>Handelspartner</th>
      <th>Tour</th>
      <th>Gebiet</th>
      <th>Versand</th>
    </tr>
  </thead>
  <tbody>
    <%= render @purchase_orders %>
  </tbody>
  <tfoot>
  </tfoot>
</table>

<div class="modal fade" id="filter">
  <div class="modal-header">
    <a class="close" data-dismiss="modal">×</a>
    <h3>VK-Aufträge - Filter anwenden</h3>
  </div>
  <%= form_for @search, :html => {:class => "form-horizontal", :style => "margin-bottom:0;", :method => :get} do |f| %>
    <div class="modal-body">
      <div class="control-group">
        <%= f.label(:shipping_route_id_equals, "Tour", :class => "control-label") %>
        <div class="controls">
          <%= f.collection_select(:shipping_route_id_equals, ShippingRoute.all, :id, :name, {:include_blank => true, :placeholder => "Tour"}) %>
        </div>
      </div>
    
      <div class="control-group">
        <%= f.label(:delivery_date_greater_than_or_equal_to, "Von", :class => "control-label") %>
        <div class="controls">
          <%= f.text_field :delivery_date_greater_than_or_equal_to, :class => "date_picker text_field" %>
        </div>
      </div>
    
      <div class="control-group">
        <%= f.label(:delivery_date_less_than_or_equal_to, "Bis", :class => "control-label") %>
        <div class="controls">
          <%= f.text_field :delivery_date_less_than_or_equal_to, :class => "date_picker text_field" %>
        </div>
      </div>
    
      <div class="control-group">
        <%= f.label(:delivered_equals, "Versendet?", :class => "control-label") %>
        <div class="controls">
          <%= f.select(:delivered_equals, { 'Nein'=>false, 'Ja'=>true }, {}) %>
        </div>
      </div>
    </div>
    
    <div class="modal-footer">
      <%= f.submit("Filtern", :class => "btn btn-primary") %>
    </div>
  <% end %>
</div>

<div class="modal fade" id="goto">
  <div class="modal-header">
    <a class="close" data-dismiss="modal">×</a>
    <h3>VK-Aufträge - Gehe zu</h3>
  </div>
  
  <%= form_tag(search_for_purchase_orders_path, {:class => "form-horizontal", :style => "margin-bottom:0;", :method => :get}) do %>
    <div class="modal-body">
      <div class="control-group">
        <%= label_tag(:purchase_order_id, "VK NR", :class => "control-label") %>
        <div class="controls">
          <%= text_field_tag(:purchase_order_id, nil, :class => "text_field") %>
        </div>
      </div>
    </div>
    
    <div class="modal-footer">
      <%= submit_tag "Filter anwenden", :disable_with => 'Wende Filter an...', :name => nil, :class => "btn btn-primary" %>
    </div>
  <% end %>
</div>
